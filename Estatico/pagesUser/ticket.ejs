<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TICKET</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

  <link rel="stylesheet" href="/css/general.css" />

</head>

<body>
  <main class="container">

    <header>
      <img src="/images/iconoEmpresa.png" alt="logo_tienda" class="logo-header">
      <h1>TIENDA TECH</h1>
      <h2>TICKET DE COMPRA</h2>
      <button id="boton-tema">
        <i class="bi bi-moon-fill" id="icono-tema"></i>
      </button>
    </header>

    <nav id="navbar-principal">
      <ul class="nav-left">
        <li><a href="/index.html">Inicio</a></li>
        <li><a href="/productos.html">Productos</a></li>
      </ul>
      <ul class="nav-right">
        <li> <a href="/productos.html" id="nueva-compra" class="icono-nueva-compra">⬅️ Nueva Compra </a></li>
      </ul>
    </nav>

    <!--Revisar esto-->
    <h3>Ticket</h3>
    <p>Ticket ID: <%= ticket.id %>
    </p>
    <p>Fecha:<%= ticket.fecha %>
    </p>
    <p>Nombre de Cliente:<%= ticket.nombreCliente %>
    </p>
    <p>Productos:</p>
    <ul>
      <% ticket.detalleProducto.forEach(producto=> { %>
        <li>
          <%= producto.nombre %> --
            Cantidad: <%= producto.cantidad %> --
              Precio Unitario: <%= producto.precio %> --
                Subtotal: <%= producto.subtotal %>
        </li>
        <% }) %>
    </ul>
    <p>Precio Total:<%= ticket.total %>
    </p>

    <!--Generar la ruta para descargar el ticket-->
    <% if (ticket.view) { %>
      <a href="http://localhost:3000/ticket/download/<%= ticket.id %>" target="_blank">Descargar ticket</a>
      <% } %>


        <footer>
          <div class="contenedor-nombres"
            style="font-size: 2rem; display: flex; justify-content: space-between; align-items: center; ">
            <div>Carlos Rial</div>
            <div>Lucas Amarilla</div>
          </div>
        </footer>
  </main>
  <script src="/js/ticket.js"></script>
  <script src="/js/tema.js"></script>
</body>

</html>